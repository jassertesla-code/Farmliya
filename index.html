<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Farmliya â€” Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª PUBG (Ù…Ø¨Ø§Ø´Ø±)</title>
<style>
  :root{--gold:#f0c75e;--muted:#9fb0b7}
  *{box-sizing:border-box}
  body{font-family:Tahoma,Arial;background:#041226;color:#eaf6f2;margin:0;padding:18px}
  .wrap{max-width:980px;margin:0 auto}
  header{display:flex;justify-content:space-between;align-items:center;margin-bottom:14px}
  .logo{display:flex;align-items:center;gap:12px}
  .badge{width:56px;height:56px;border-radius:12px;background:linear-gradient(90deg,var(--gold),#d9a441);display:flex;align-items:center;justify-content:center;color:#071018;font-weight:900}
  h1{margin:0}
  nav{display:flex;gap:8px;margin:12px 0}
  .tab{padding:8px 12px;border-radius:10px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:var(--muted);cursor:pointer}
  .tab.active{background:rgba(240,199,94,0.12);color:#fff}
  .grid{display:grid;grid-template-columns:1fr 360px;gap:18px}
  .card{background:rgba(255,255,255,0.03);padding:14px;border-radius:12px;border:1px solid rgba(255,255,255,0.03)}
  input,select,button,textarea{font-family:inherit;font-size:15px}
  input[type="text"],select,textarea{width:100%;padding:10px;border-radius:9px;border:1px solid rgba(255,255,255,0.04);background:rgba(255,255,255,0.02);color:inherit}
  .row{display:flex;gap:10px}
  .col{flex:1}
  .btn{padding:10px 14px;border-radius:10px;border:0;cursor:pointer;background:linear-gradient(90deg,var(--gold),#d9a441);color:#071018;font-weight:800}
  .btn.secondary{background:transparent;color:var(--muted);border:1px solid rgba(255,255,255,0.03)}
  .result{margin-top:10px;padding:10px;border-radius:10px;background:rgba(0,0,0,0.18);font-size:14px}
  pre{white-space:pre-wrap;margin:0;color:#dfffe6}
  footer{text-align:center;color:var(--muted);margin-top:18px}
  @media(max-width:900px){ .grid{grid-template-columns:1fr} }
  .warn{color:#ffb3b3}
  .ok{color:#b7f3c1}
  .muted-small{color:var(--muted);font-size:13px}
</style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="logo">
        <div class="badge">UC</div>
        <div>
          <h1>Farmliya</h1>
          <div class="muted-small">Ø´Ø­Ù† + Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª PUBG (Ù…Ø¨Ø§Ø´Ø±)</div>
        </div>
      </div>
      <div class="muted-small">ØªØ¬Ø±ÙŠØ¨ÙŠ â€” Ø¶Ø¹ Ø§Ù„Ù…ÙØªØ§Ø­ Ø¨Ø­Ø°Ø±</div>
    </header>

    <nav>
      <button class="tab active" id="tHome">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
      <button class="tab" id="tStats">Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù„Ø§Ø¹Ø¨</button>
    </nav>

    <div class="grid">
      <main>
        <!-- Home -->
        <section id="home" class="card section">
          <h3 style="margin-top:0">âš¡ Ø´Ø­Ù† Ø´Ø¯Ø§Øª</h3>
          <form id="chargeForm">
            <label>Player ID</label>
            <input id="playerId" type="text" placeholder="Ù…Ø«Ø§Ù„: 123456789" required>
            <div class="row" style="margin-top:8px">
              <div class="col">
                <label>UC</label>
                <select id="uc" required>
                  <option value="">Ø§Ø®ØªØ±</option><option>60</option><option>300</option><option>600</option><option>1200</option>
                </select>
              </div>
              <div class="col">
                <label>Ø§Ù„Ø³ÙŠØ±ÙØ±</label>
                <select id="server" required><option value="">Ø§Ø®ØªØ±</option><option>ASIA</option><option>EUROPE</option><option>NA</option></select>
              </div>
            </div>
            <label style="margin-top:8px">Ø§Ø³Ù… (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
            <input id="pname" type="text" placeholder="Ø§Ø³Ù… Ø§Ù„Ù„Ø§Ø¹Ø¨">
            <div style="margin-top:10px"><label><input id="consent" type="checkbox"> Ø£ÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±ÙŠ</label></div>
            <div style="margin-top:12px;display:flex;gap:8px;">
              <button class="btn" type="submit">Ø§Ø´Ø­Ù† Ø§Ù„Ø¢Ù†</button>
              <button class="btn secondary" id="clear" type="button">Ù…Ø³Ø­</button>
            </div>
            <div id="chargeStatus" class="result" style="display:none"></div>
          </form>
        </section>

        <!-- Stats -->
        <section id="stats" class="card section" style="display:none">
          <h3 style="margin-top:0">ğŸ” Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù„Ø§Ø¹Ø¨</h3>
          <p class="muted-small">Ø§ÙƒØªØ¨ Player name Ø£Ùˆ Player ID Ø«Ù… Ø§Ø®ØªØ± Ø§Ù„Ù…Ù†ØµØ© ÙˆØ§Ø¶ØºØ· "Ø¬Ù„Ø¨".</p>

          <div style="display:grid;grid-template-columns:1fr 160px;gap:10px">
            <input id="query" type="text" placeholder="Ù…Ø«Ø§Ù„: someplayer Ø£Ùˆ account-xxxxxxxx">
            <select id="platform"><option value="steam">steam</option><option value="kakao">kakao</option><option value="psn">psn</option><option value="xbox">xbox</option></select>
          </div>

          <div style="margin-top:10px;display:flex;gap:8px;">
            <button id="btnFetch" class="btn">Ø¬Ù„Ø¨ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù„Ø§Ø¹Ø¨</button>
            <button id="btnSeason" class="btn secondary">Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¡Ø§Øª Ù…ÙˆØ³Ù… (Season ID)</button>
          </div>

          <div style="margin-top:8px">
            <label>Season ID (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
            <input id="seasonId" placeholder="Ù…Ø«Ø§Ù„: division.bro.official.pc-2018">
          </div>

          <div id="statsOut" class="result" style="display:none"></div>
        </section>
      </main>

      <aside>
        <div class="card">
          <h4 style="margin:0 0 8px 0">Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø³Ø±ÙŠØ¹Ø©</h4>
          <ul class="muted-small" style="margin:6px 0 0 18px;padding-left:6px">
            <li>ÙˆØ¶Ø¹Øª Ù…ÙØªØ§Ø­ API Ù…Ø¨Ø§Ø´Ø±Ø© Ø¨Ø§Ù„Ù…Ù„Ù â€” Ù…Ø±Ø±Ø±Ù‡. Ù‡Ø°Ø§ ÙŠØ¸Ù‡Ø± Ù„Ù„ÙƒÙ„ Ø¥Ù† ÙÙØªØ­ Ø§Ù„Ù…ØµØ¯Ø±.</li>
            <li>Ø¥Ø°Ø§ Ø¸Ù‡Ø±Øª Ø±Ø³Ø§Ù„Ø© <strong>Unauthorized</strong> â†’ Ø§Ù„Ù…ÙØªØ§Ø­ ØºÙŠØ± ØµØ§Ù„Ø­ Ø£Ùˆ Ù„Ù… ØªÙÙØ¹Ù‘Ù„ app ÙÙŠ Ù„ÙˆØ­Ø© PUBG Developer Ø£Ùˆ Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ù…Ù†ØµØ© Ø®Ø§Ø·Ø¦Ø©.</li>
            <li>Ø¥Ø°Ø§ Ø¸Ù‡Ø± Ø®Ø·Ø£ CORS â†’ ØªØ­ØªØ§Ø¬ backend proxy (Ø£Ù†ØµØ­ Ø¨Ù‡Ø°Ø§ Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ).</li>
          </ul>
          <div style="margin-top:12px">
            <strong>Ø­Ø§Ù„Ø©</strong>
            <div id="log" class="muted-small" style="margin-top:8px">Ø¬Ø§Ù‡Ø²</div>
          </div>
        </div>
      </aside>
    </div>

    <footer>â’¸ Farmliya</footer>
  </div>

<script>
/* === Ù‡Ù†Ø§ ÙˆØ¶Ø¹Øª Ø§Ù„Ù…ÙØªØ§Ø­ Ø§Ù„Ø°ÙŠ Ø£Ø±Ø³Ù„ØªÙ‡ Ù„ÙŠØ› Ø¥Ù† Ø£Ø±Ø¯Øª ØªØºÙŠÙŠØ±Ù‡ ØºÙŠÙ‘Ø±Ù‡ Ù…Ø¨Ø§Ø´Ø±Ø© Ù‡Ù†Ø§ === */
const PUBG_API_KEY = "eyJ0eXAiOiJKV1QiOiJkYcGlbGhbcGlGiOiJIUzI1NiJ9.eyJqdGkI0iI3YZFjMTcyMC05YmI5LTAxM2UtMmUzMmU0OC0yNmQxYjtiMzY4ZGYiLCJpc3MiOiJnYw1lbG9jMzAyVyIsImFfF0IjoxNzYyMTcy0TUwLCIzdWdI0IjoiJibgYWIa9GZzSlslnRPdGxlIjoiCHVIZYlmFwCCl6ImIzMcm1lcXIhln0z0zY7xY2IyZGlmFwCCl6ImIzMcm1lcXIhln0z0zY7XY2IzZGlmFwCCl6ImIzMcm1lcXIhln0z0zY7XNvZGhU2hlZFAnZEJVQGgTIBU5tD577XZQ1A8hhiC8";
/* ==================================================================== */

const API_BASE = "https://api.pubg.com/shards"; // we'll call: /shards/{platform}/players...
const $ = id => document.getElementById(id);
function log(msg){ $('log').textContent = msg; }

/* tabs */
$('tHome').addEventListener('click', ()=>{ $('home').style.display='block'; $('stats').style.display='none'; $('tHome').classList.add('active'); $('tStats').classList.remove('active'); });
$('tStats').addEventListener('click', ()=>{ $('home').style.display='none'; $('stats').style.display='block'; $('tHome').classList.remove('active'); $('tStats').classList.add('active'); });

/* safe fetch wrapper with diagnostics */
async function pubgFetch(url){
  const headers = {
    "Authorization": `Bearer ${PUBG_API_KEY}`,
    "Accept": "application/vnd.api+json"
  };
  try{
    const res = await fetch(url, { headers });
    if(!res.ok){
      let body = null;
      try{ body = await res.json(); }catch(e){ body = await res.text().catch(()=>null); }
      const title = (body && body.errors && body.errors[0] && body.errors[0].title) ? body.errors[0].title : res.statusText;
      const detail = (body && body.errors && body.errors[0] && body.errors[0].detail) ? body.errors[0].detail : (typeof body === 'string'?body:JSON.stringify(body||{}));
      const err = new Error(`${res.status} ${title} - ${detail}`);
      err.status = res.status; err.body = body;
      throw err;
    }
    return await res.json();
  }catch(e){
    throw e;
  }
}

/* resolve player by name or id */
async function resolvePlayer(query, platform){
  // try direct id fetch if it looks like an id (contains '-' or long length)
  if(query.includes('-') || query.length > 16 || /^\d+$/.test(query)){
    try{
      return await pubgFetch(`${API_BASE}/${platform}/players/${encodeURIComponent(query)}`);
    }catch(e){
      // fall through to name search
    }
  }
  // name search
  return await pubgFetch(`${API_BASE}/${platform}/players?filter[playerNames]=${encodeURIComponent(query)}`);
}

/* Fetch basic player info */
$('btnFetch').addEventListener('click', async ()=>{
  const q = $('query').value.trim();
  const platform = $('platform').value;
  const out = $('statsOut'); out.style.display='block'; out.innerHTML = 'ğŸ”„ Ø¬Ø§Ø±Ù Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...';
  log('Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª...');

  if(!q){ out.innerHTML = '<span class="muted-small">Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø£Ùˆ ID</span>'; return; }
  if(!PUBG_API_KEY || PUBG_API_KEY.includes('PASTE')){ out.innerHTML = '<span class="warn">Ø¶Ø¹ Ù…ÙØªØ§Ø­ PUBG ÙÙŠ Ø§Ù„Ù…ØªØºÙŠØ± PUBG_API_KEY Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…Ù„Ù.</span>'; return; }

  try{
    const pjson = await resolvePlayer(q, platform);
    // normalize to first data object
    let pdata = null;
    if(pjson.data && Array.isArray(pjson.data)) pdata = pjson.data[0];
    else if(pjson.data) pdata = pjson.data;
    else throw new Error('Ù„Ù… ÙŠØªÙ… Ø¥Ø±Ø¬Ø§Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ø§Ø¹Ø¨');

    const pid = pdata.id;
    const name = pdata.attributes && pdata.attributes.name;
    const created = pdata.attributes && pdata.attributes.createdAt;
    // try best-effort to get last match time from relationships.matches (if present)
    let lastMatch = null;
    try{
      const rel = pdata.relationships || {};
      const matches = (rel.matches && rel.matches.data) || [];
      if(matches.length){
        const mid = matches[0].id;
        const mjson = await pubgFetch(`${API_BASE}/${platform}/matches/${encodeURIComponent(mid)}`);
        lastMatch = (mjson.data && mjson.data.attributes && mjson.data.attributes.createdAt) || null;
      }
    }catch(e){
      // ignore match fetch errors
    }

    let html = `<div><strong>Ø§Ù„Ù„Ø§Ø¹Ø¨:</strong> ${name || 'â€”'} <small class="muted-small">(${pid})</small></div>`;
    html += `<div><strong>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡:</strong> ${created? new Date(created).toLocaleString() : 'ØºÙŠØ± Ù…ØªØ§Ø­'}</div>`;
    html += `<div><strong>Ø¢Ø®Ø± Ù…Ø¨Ø§Ø±Ø§Ø© Ù…Ø³Ø¬Ù„Ø©:</strong> ${lastMatch? new Date(lastMatch).toLocaleString() : 'Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª'}</div>`;
    html += `<div class="muted-small" style="margin-top:8px">Ù…Ù„Ø§Ø­Ø¸Ø©: Ù‡Ø°Ù‡ Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø³Ø¬Ù„Ø© Ù…Ù† PUBG API ÙˆÙ„Ø§ ØªÙ…Ø«Ù„ Ø­Ø§Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ©.</div>`;

    out.innerHTML = html;
    log('ØªÙ… Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù„Ø§Ø¹Ø¨.');
  }catch(e){
    console.error(e);
    // Friendly error messages for common cases
    if(e.status === 401 || (e.message && e.message.toLowerCase().includes('unauthorized'))){
      out.innerHTML = `<div class="warn"><strong>Unauthorized</strong> â€” Ø§Ù„Ù…ÙØªØ§Ø­ ØºÙŠØ± ØµØ§Ù„Ø­ Ø£Ùˆ Ù„Ù… ØªÙÙØ¹Ù‘Ù„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙÙŠ Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø·ÙˆØ±ÙŠÙ†.</div>
        <div class="muted-small" style="margin-top:8px">
          Ø®Ø·ÙˆØ§Øª Ø³Ø±ÙŠØ¹Ø©: <ol style="text-align:right;margin:6px 0 0 0;padding-left:12px">
            <li>ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù†Ùƒ Ù†Ø³Ø®Øª Ù…ÙØªØ§Ø­ Ø§Ù„Ù€API Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ Ø¨Ø¯ÙˆÙ† ÙØ±Ø§ØºØ§Øª.</li>
            <li>ÙÙŠ Ù„ÙˆØ­Ø© developer.pubg.com -> Apps ØªØ£ÙƒØ¯ Ø£Ù† Ø§Ù„Ù€app Ù…ÙØ¹Ù„ ÙˆÙ…ÙˆØ§ÙÙ‚Ø§Øª Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø·Ø§Ø¨Ù‚Ø©.</li>
            <li>ØªØ­Ù‚Ù‚ Ù…Ù† Ø£Ù†Ùƒ ØªØ³ØªØ®Ø¯Ù… Ø§Ù„Ø´Ø§Ø±Ø¯ Ø§Ù„ØµØ­ÙŠØ­ (steam/kakao/psn/xbox).</li>
            <li>Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¹Ø§Ù… Ø§Ù†Ù‚Ù„ Ø§Ù„Ù…ÙØªØ§Ø­ Ø¥Ù„Ù‰ backend Ù„Ø£Ù† Ø§Ù„Ù…ØªØµÙØ­ ÙŠØ¹Ø±Ù‘Ø¶Ù‡ Ù„Ù„Ø¹Ø§Ù…Ø©.</li>
          </ol>
        </div>`;
      log('Unauthorized â€” ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…ÙØªØ§Ø­/Ø§Ù„ØªÙØ¹ÙŠÙ„.');
    } else if(e.status === 403){
      out.innerHTML = `<div class="warn"><strong>Forbidden (403)</strong> â€” Ø§Ù„Ù…ÙØªØ§Ø­ Ù„Ø§ ÙŠÙ…Ù„Ùƒ ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„ÙˆØµÙˆÙ„ Ø£Ùˆ Ù…Ø­Ø¯Ù‘Ø¯Ø§Øª rate-limit.</div>`;
      log('Forbidden (403).');
    } else if(e.status === 429){
      out.innerHTML = `<div class="warn"><strong>Rate limit</strong> â€” Ø¹Ø¯Ù‘Ù„ Ø¹Ø¯Ø¯ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø£Ùˆ Ø§Ø¶Ù caching.</div>`;
      log('Rate limit.');
    } else {
      const msg = (e.message || JSON.stringify(e).slice(0,300));
      out.innerHTML = `<div class="warn">Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª: ${msg}</div>`;
      log('Ø®Ø·Ø£ Ø¹Ø§Ù… Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¬Ù„Ø¨.');
    }
  }
});

/* Fetch season stats */
$('btnSeason').addEventListener('click', async ()=>{
  const q = $('query').value.trim();
  const platform = $('platform').value;
  const season = $('seasonId').value.trim();
  const out = $('statsOut'); out.style.display='block'; out.innerHTML = 'ğŸ”„ Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¡Ø§Øª Ø§Ù„Ù…ÙˆØ³Ù…...';
  log('Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¡Ø§Øª Ø§Ù„Ù…ÙˆØ³Ù…...');

  if(!q){ out.innerHTML = '<span class="muted-small">Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø£Ùˆ ID</span>'; return; }
  if(!season){ out.innerHTML = '<span class="muted-small">Ø£Ø¯Ø®Ù„ Season ID</span>'; return; }

  try{
    // resolve player id
    const pjson = await resolvePlayer(q, platform);
    let pdata = null;
    if(pjson.data && Array.isArray(pjson.data)) pdata = pjson.data[0];
    else if(pjson.data) pdata = pjson.data;
    else throw new Error('Ù„Ù… ÙŠØ¹Ø«Ø± Ø¹Ù„Ù‰ Ø§Ù„Ù„Ø§Ø¹Ø¨');

    const pid = pdata.id;
    const seasonJson = await pubgFetch(`${API_BASE}/${platform}/players/${encodeURIComponent(pid)}/seasons/${encodeURIComponent(season)}`);
    const attrs = (seasonJson.data && seasonJson.data.attributes) || {};
    const gm = attrs.gameModeStats || attrs || {};

    let html = `<div><strong>Ø§Ù„Ù„Ø§Ø¹Ø¨:</strong> ${pid}</div><div><strong>Season:</strong> ${season}</div>`;
    if(gm && Object.keys(gm).length){
      html += `<div style="margin-top:8px"><strong>Ø¥Ø­ØµØ§Ø¡Ø§Øª Ø­Ø³Ø¨ Ù†Ù…Ø· Ø§Ù„Ù„Ø¹Ø¨:</strong></div>`;
      for(const mode of Object.keys(gm)){
        const s = gm[mode];
        html += `<div style="margin:8px 0;padding:8px;border-radius:8px;background:rgba(0,0,0,0.12)"><strong>${mode}</strong><br/>`;
        const keys = ['roundsPlayed','wins','kills','assists','damageDealt','longestKill','timeSurvived','kd'];
        for(const k of keys){
          if(s[k] !== undefined) html += `<small class="muted-small">${k}:</small> ${s[k]} &nbsp;`;
        }
        html += `</div>`;
      }
    } else {
      html += `<div class="muted-small">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ù…ÙˆØ³Ù… ÙˆØ§Ø¶Ø­Ø© â€” ØªØ£ÙƒØ¯ Ù…Ù† Season ID.</div>`;
    }
    out.innerHTML = html;
    log('ØªÙ… Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¡Ø§Øª Ø§Ù„Ù…ÙˆØ³Ù….');
  }catch(e){
    console.error(e);
    if(e.status === 401) {
      $('statsOut').innerHTML = `<div class="warn">Unauthorized â€” ØªØ­Ù‚Ù‚ Ù…Ù† Ù…ÙØªØ§Ø­ Ø§Ù„Ù€API/ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚.</div>`;
      log('Unauthorized');
    } else {
      $('statsOut').innerHTML = `<div class="warn">Ø®Ø·Ø£: ${(e.message||e.text||JSON.stringify(e)).slice(0,300)}</div>`;
      log('Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¡Ø§Øª Ø§Ù„Ù…ÙˆØ³Ù….');
    }
  }
});
</script>
</body>
</html>
